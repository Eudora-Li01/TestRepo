# Copyright (c) Microsoft Corporation.
# Licensed under the MIT license.

trigger: none

pr: none

resources:
  repositories:
  - repository: TestRepo 
    type: github
    endpoint: GitHubBranchTagsTest
    name: Eudora-Li01/TestRepo
    ref: refs/heads/main


jobs:
- job: UpdateAndPush
  displayName: 'Update file and push to other branch'
  pool:
    vmImage: 'ubuntu-latest'

  steps:
  - checkout: self
    persistCredentials: true
    clean: true
    fetchDepth: 1

  - script: |
      git checkout test
      echo "switch to test branch successfully"
      echo "Updated content" > .github/test.txt
      echo "update content successfully"
      git commit -m "Update file content"
      echo "commit successfuly"
      git push origin test
      echo "push successfully"
    displayName: 'Switch branch and update file'


